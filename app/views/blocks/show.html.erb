<div class="layout-column-left">
  <%= react_component(
    "BlockInformation",
    icon: @block.icon,
    user: @block.user.as_json,
    created_at: @block.created_at,
    description: markdown(@block.description),
    name: @block.name,
  ) %>

  <div class="section">
    <h2>Source</h2>

    <h3>Command</h3>
    <code><%= @block.command %></code>

    <h3>Source: <code><%= @block.source_path %></code></h3>
    <pre><%= @block.source %></pre>

    <h3>Dockerfile</h3>
    <pre><%= @block.dockerfile %></pre>
  </div>
</div>

<div class="layout-column-right">
  <% if @block.user == current_user %>
    <div class="section section-hint">
      As the block's author,
      <%= link_to "edit the block's input schema", edit_block_path(@block.user, @block) %>
      to help users understand how it works.
    </div>
  <% end %>

  <%= react_component(
    "BlockUsage",
    schema: @block.schema,
    run_block_url: block_runs_url(@block.user, @block),
    user_api_key: current_user.try(:api_key),
    initial_input_data: @block.runs.where(user: current_user).last.try(:input),
  ) %>
</div>
