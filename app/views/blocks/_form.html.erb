<div class="section layout-form">
  <h1>
    <%= title %>
  </h1>

  <%= simple_form_for(@block, url: url) do |f| %>
    <%= f.input(:name) %>

    <%= f.input(
      :docker_image,
      hint: "
      <p>
      At the moment, you can only register Docker images
      that are publicly available on Docker Hub.
      Your Docker image should accept JSON through <code>STDIN</code>,
      and return output through <code>STDOUT</code>.
      </p>
      <p>
      Please enter the full image ID,
      as in: <code>username/image:version</code>.
      </p>
      <p>
      We are working to support additional function sources soon,
      including GitHub repos and Gists.
      </p>
      ".html_safe
    ) %>

    <%= f.input(
      :description,
      hint: "
      <p>
      If you want other people to use your block, you better explain how it works!
      </p>
      <p>
      We support
      <a href='https://help.github.com/articles/basic-writing-and-formatting-syntax/'>
      Github-Flavored Markdown</a>.
      </p>
      ".html_safe,
    ) %>

    <%= f.input(
      :schema_json,
      label: "Input Schema",
      as: :hidden,
      hint: "
      <p>
      What information does this block need in order to run correctly?
      Users will be responsible for providing this information
      whenever they run your block.
      </p>
      <p>
      A checkbox indicates that a field is required.
      </p>
      ".html_safe,
    ) %>

    <%= react_component(
      "Schema",
      initialValue: @block.schema,
      formElement: "#block_schema_json",
      editable: true,
    ) %>

    <%= f.button :submit %>
  <% end %>
</div>
