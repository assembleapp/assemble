<div class="heading">
  <%= render "author_info", item: @app %>
  <h1><%= @app.name %></h1>
</div>

<section class="app-description">
  <%= simple_format(@app.description) %>

  <%= link_to "Edit app metadata", edit_app_path(@app.user, @app) %>
</section>

<div>
  <%= react_component(
    "AppCanvas",
    app: @app.canvas_json,
    all_blocks: Block.all.pluck(:id, :name).map { |id, name|
      { value: id, label: name }
    },
    all_feeds: Feed.where.not("name ILIKE ?", "Sandbox form%").pluck(:id, :name).map { |id, name|
      { value: id, label: name }
    },
  ) %>

  <div class="app-runs">
    <%= render "block_runs", runs: @app.block_runs %>
  </div>
</div>
